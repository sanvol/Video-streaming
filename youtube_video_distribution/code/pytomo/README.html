<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.7: http://docutils.sourceforge.net/" />
<title>PYTOMO</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 6253 2010-03-02 00:24:53Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: left }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="pytomo">
<h1 class="title">PYTOMO</h1>

<p>Pytomo is a YouTube crawler designed to figure out network information out of
YouTube video download.</p>
<div class="section" id="usage">
<h1>Usage</h1>
<p> <h3>Video crawl</h3>
pytomo [-r max_rounds] [-u max_crawled_url] [-p max_per_url] [-P
max_per_page] [-t time_frame] [-n ping_packets] [-D download_time] [-B
buffering_video_duration] [-M min_playout_buffer_size] [-x] [-L log_level] [-R]
[input_urls]:</p>
<pre class="literal-block">
Options:
  -h, --help            show this help message and exit
  -r MAX_ROUNDS         Max number of rounds to perform (default 10000)
  -l, --loop            Loop after completing the max nb of rounds
  -u MAX_CRAWLED_URL    Max number of urls to visit (default 5000000)
  -p MAX_PER_URL        Max number of related urls from each page (default 20)
  -P MAX_PER_PAGE       Max number of related videos from each page (default
                        20)
  -t TIME_FRAME         Timeframe for the most popular videos to fetch at
                        start of crawl put 'today', 'week', 'month' or
                        'all_time' (default 'week')
  -n PING_PACKETS       Number of packets to be sent for each ping (default
                        10)
  -D DOWNLOAD_TIME      Download time for the video in seconds (default
                        30.000000)
  -B INITIAL_PLAYBACK_DURATIONÂ¶
                        Buffering video duration in seconds (default
                        2000.000000)
  -M MIN_PLAYOUT_BUFFER_SIZE
                        Minimum Playout Buffer Size in seconds (default
                        0.100000)
  -x                    Do NOT store public IP address of the machine in the
                        logs
  -L LOG_LEVEL          The log level setting for the Logging module.Choose
                        from: 'DEBUG', 'INFO', 'WARNING', 'ERROR' and
                        'CRITICAL' (default 'DEBUG')
  --http-proxy=PROXIES  in case of http proxy to reach Internet (default None)
  --provider=PROVIDER   Indicate the ISP
  -R, --no-related      Do NOT crawl related videos (stays with the first urls
                        found: either most popular or arguments given)
</pre>                        
<p> <h3>Graphical web interface to display graphs about the crawled data</h3>
start_server.py [-v] [-f database] [-d database_directory] port</p>
<pre class="literal-block">
Options:
  -h, --help            show this help message and exit
  -v, --verbose         run as verbose mode
  -f DB_NAME, --file=DB_NAME
                        run on a specific database (by default the latest
                        database in the default database directory is
                        selected)
  -d DB_DIR_NAME, --dir=DB_DIR_NAME
                        run on a specific directory where the latest database
                        will be selected
</pre>
</div>
<div class="section" id="installation-free">
<h1>Installation-free</h1>
<p>In order to provide installation-free package, we provide binary executables
for Linux (32 and 64bits), Windows, and Mac OS X.
The binaries files were generated with <a class="reference external" href="http://www.pyinstaller.org/">Pyinstaller</a> (version 1.5RC1).</p>
<p>If you have Python installed, you can directly run the start_crawl.py script at
root or the pytomo script in bin directory.</p>
<p>If you have Python installed and the RRDtool and webpy python bindings, you can
directly run the 'start_server.py' script at root - you need to specify a port
on which to start the server and then connect to that port on the respective
host from your favourite browser. For example, you start the graphical web
interface on port 5555:<br/>
&emsp $ ./start_server.py 5555<br/>
You will then connect on the respective machine (you need to know its IP and
make sure it allows external connections, otherwise you will only be able to
see the graphs locally on that machine):<br/>
&emsp http://127.0.0.1:5555/ &emsp &emsp &emsp <= visualisation on local machine<br/>
&emsp http://10.193.224.73:5555/ &emsp &emsp <= visualisation from remote host<br/>
By default, the graphs are collected with information from the latest database
in the default database directory. If a new live crawl is started, it is
recommened to stop and start again the graphical web interface and refresh the
page from your browser.</p>
</div>
<div class="section" id="external-resources">
<h1>External Resources</h1>
<p>We based the lib_youtube_download on <a class="reference external" href="http://rg3.github.com/youtube-dl/">YouTube Download</a> script: we simplified
it at most and include only the classes we needed (and only YouTube video
retrieval).</p>
<p>The dns module is taken from the <a class="reference external" href="http://pypi.python.org/pypi/dnspython">DNS Python Package</a>: we just modified rdata
so that <a class="reference external" href="http://www.pyinstaller.org/">Pyinstaller</a> include all needed modules.</p>
<p>The extraction of metadata out of video files is an adaptation of <a class="reference external" href="http://packages.debian.org/sid/python-kaa-metadata">Kaa Metadata
Python Package</a>: it has been modified in order to be independent of Kaa-base
(thus pure Python and portable).</p>
<p>The graphical web interface requires the following external resources, that we
recommend you to install from the repository of your OS distribution: <br/>
a) <a class="reference external" href="http://oss.oetiker.ch/rrdtool/download.en.html">RRDtool python binding</a> <br/>
- For Debian based OS: <br/>
 &emsp sudo apt-get install python-rrdtool <br/>
- For RHEL based OS: <br/>
 &emsp yum install python-rrdtool <br/>
b) <a class="reference external" href="http://webpy.org/download">webpy</a> <br/>
- For Debian based OS: <br/>
 &emsp sudo apt-get install python-webpy <br/>
- For RHEL based OS: <br/>
 &emsp yum install python-webpy
</p>

<div class="section" id="external-links">
<h2>External Links</h2>
<ol class="arabic simple">
<li><a class="reference external" href="http://rg3.github.com/youtube-dl/">YouTube Download</a>.</li>
<li><a class="reference external" href="http://packages.debian.org/sid/python-kaa-metadata">Kaa Metadata Python Package</a>.</li>
<li><a class="reference external" href="http://pypi.python.org/pypi/dnspython">DNS Python Package</a></li>
<li><a class="reference external" href="http://www.pyinstaller.org/">Pyinstaller</a></li>
<li><a class="reference external" href="http://oss.oetiker.ch/rrdtool/">RRDtool</a></li>
<li><a class="reference external" href="http://webpy.org/">webpy</a></li>
</ol>
</div>
</div>
</div>
</body>
</html>
